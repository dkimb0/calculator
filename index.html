<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="display">
        <p id="displayText"></p>
    </div>
    
    <div class="numButton">
        <button>1</button>
        <button>2</button>    
        <button>3</button>
        <button>4</button>
        <button>5</button>
        <button>6</button>
        <button>7</button>
        <button>8</button>
        <button>9</button>
        <button>0</button>
    </div>

    <div class="opButton">
        <button>+</button>
        <button>-</button>
        <button>*</button>
        <button>/</button>
    </div>

    <div class="equalsOrClear">
        <button id="equals">=</button>
        <button id="clear">clear</button>
    </div>
        
    <script>
        function add(a, b){
            return a + b;
        }

        function subtract(a, b){
            return a - b;
        }

        function multiply(a, b){
            return a * b;
        }

        function divide(a, b){
            return a / b;
        }

        function operate(operator, numOne, numTwo){
            switch(operator){
                case '+':
                    return add(numOne, numTwo);
                case '-':
                    return subtract(numOne, numTwo);
                case '*':
                    return multiply(numOne, numTwo);
                case '/':
                    return divide(numOne, numTwo);
            }
        }

        function display(text){
            document.getElementById('displayText').innerHTML = text;    
        }

        let a = [];
        let b = [];

        let aNum = 0;
        let bNum = 0;

        display(aNum);

        let operatorOn = false;
        let operatorType;

        const numButtons = document.querySelectorAll('div.numButton > button');

        numButtons.forEach((numButton) => {
            numButton.addEventListener('click', () => {
                if (!operatorOn){
                    a.push(event.target.innerText);
                    aNum = parseInt(a.join(''));
                    display(aNum);
                }else{
                    b.push(event.target.innerText);
                    bNum = parseInt(b.join(''));
                    display(bNum);
                }
                
            });
        });

        const opButtons = document.querySelectorAll('div.opButton > button');

        opButtons.forEach((opButton) => {
            opButton.addEventListener('click', () => {
                operatorOn = true;
                operatorType = event.target.innerText;
            });
        });

        const equalButton = document.querySelector('#equals');

        equalButton.addEventListener('click', () => {
            if (bNum === 0 && operatorType === '/'){
                display('Error, cannot divide by 0');
                aNum = 0;
                a = [];
            }else{
                aNum = operate(operatorType, aNum, bNum);
                display(aNum);
            }

            bNum = 0;
            b = [];
            operatorOn = false;


        })

        const clearButton = document.querySelector('#clear');

        clearButton.addEventListener('click', () => {
            a = [];
            b = [];
            aNum = 0;
            bNum = 0;
            operatorOn = false;

            display(aNum);
        })



    </script>
</body>
</html>